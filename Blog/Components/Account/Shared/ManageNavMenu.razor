@using Microsoft.AspNetCore.Identity
@using Blog.Data;
@using Blog.Data.Models
@inject SignInManager<ApplicationUser> SignInManager

<nav class="bg-zinc-200 rounded-lg shadow-md md:shadow-lg md:min-h-screen">
    <ul class="flex items-center md:items-start md:flex-col gap-2 md:gap-4 p-4">
        <li class="nav-item w-full">
            <NavLink class="nav-link block py-2 px-4 text-gray-700 hover:bg-blue-100 rounded transition duration-200 md:font-semibold" href="Account/Manage" Match="NavLinkMatch.All">
                Profile
            </NavLink>
        </li>
        <li class="nav-item w-full">
            <NavLink class="nav-link block py-2 px-4 text-gray-700 hover:bg-blue-100 rounded transition duration-200 md:font-semibold" href="Account/Manage/Email">
                Email
            </NavLink>
        </li>
        <li class="nav-item w-full">
            <NavLink class="nav-link block py-2 px-4 text-gray-700 hover:bg-blue-100 rounded transition duration-200 md:font-semibold" href="Account/Manage/ChangePassword">
                Password
            </NavLink>
        </li>
        @if (hasExternalLogins)
        {
            <li class="nav-item w-full">
                <NavLink class="nav-link block py-2 px-4 text-gray-700 hover:bg-blue-100 rounded transition duration-200 md:font-semibold" href="Account/Manage/ExternalLogins">
                    External logins
                </NavLink>
            </li>
        }
        <li class="nav-item w-full">
            <NavLink class="nav-link block py-2 px-4 text-gray-700 hover:bg-blue-100 rounded transition duration-200 md:font-semibold" href="Account/Manage/PersonalData">
                Personal data
            </NavLink>
        </li>
    </ul>
</nav>

<style>
    .nav-link.active {
        background-color: #3A6D8C; /* Blue background for active link */
        color: white; /* White text for active link */
    }

    /* Optional: add custom hover styles */
    .nav-link:hover {
        background-color: #dbeafe; /* Lighter blue on hover */
    }
</style>

@code {
    private bool hasExternalLogins;
    protected override async Task OnInitializedAsync()
    {
        hasExternalLogins = (await SignInManager.GetExternalAuthenticationSchemesAsync()).Any();
    }
}